{"version":3,"file":"js/72.a352f8fb.js","mappings":"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","sources":["webpack://leyasu/./src/views/LoginView.vue","webpack://leyasu/./src/views/LoginView.vue?0cdf"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6f23d4e5\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\" If you have MetaMask and Universal Profile Browser Extension installed, please disable MetaMask! See these guides for \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://support.google.com/chrome_webstore/answer/2664769?hl=en\",\n  target: \"_blank\"\n}, \"Chrome\"), /*#__PURE__*/_createTextVNode(\" and \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://support.mozilla.org/en-US/kb/disable-or-remove-add-ons#w_disabling-and-removing-extensions\",\n  target: \"_blank\"\n}, \"Firefox\"), /*#__PURE__*/_createTextVNode(\". \")], -1));\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\" The dApp only provides running in \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://www.google.com/chrome/\",\n  target: \"_blank\"\n}, \"Chrome \"), /*#__PURE__*/_createTextVNode(\" or \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://www.mozilla.org/firefox/new/\",\n  target: \"_blank\"\n}, \"Firefox\"), /*#__PURE__*/_createTextVNode(\", Please switch one. \")], -1));\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\" Please install the \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://docs.lukso.tech/guides/browser-extension/install-browser-extension/\",\n  target: \"_blank\"\n}, \"Universal Profile Browser Extension\"), /*#__PURE__*/_createTextVNode(\" to use this dApp. \")], -1));\n\nconst _hoisted_4 = {\n  key: 3,\n  class: \"flex justify-center mt-5\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Log in to browser Extension\");\n\nimport { ethers } from 'ethers';\nimport { Button, NoticeBar } from 'vant';\nimport { onMounted, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LoginView',\n\n  setup(__props) {\n    const isUnSupportBrowser = ref(true);\n    const requiresLogin = ref(false);\n    const requiresBrowserExtension = ref(false);\n    const useOnlyOneExtension = ref(true);\n    const error = ref('');\n    const router = useRouter();\n    onMounted(async () => {\n      if (navigator.userAgent.indexOf('Firefox') !== -1 || navigator.userAgent.indexOf('Chrome') !== -1) {\n        isUnSupportBrowser.value = false;\n      }\n\n      if (window.ethereum) {\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const accounts = await provider.listAccounts();\n        console.log('accounts:', accounts); // If no account was found\n\n        if (!accounts.length) {\n          requiresLogin.value = true; // OTHERWISE user is logged in, go to the dashboard\n        } else {\n          router.push('/');\n        } // No ethereum extension connected\n        // We ask the user to install the browser extension\n\n      } else {\n        requiresBrowserExtension.value = true;\n        useOnlyOneExtension.value = false;\n      }\n    });\n\n    const login = async () => {\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const accounts = await provider.send('eth_requestAccounts', []);\n      if (accounts.length) router.push('/');else error.value = 'No account was selected!';\n    };\n\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(_Fragment, null, [useOnlyOneExtension.value ? (_openBlock(), _createBlock(_unref(NoticeBar), {\n        key: 0,\n        color: \"#fff\",\n        background: \"#363636\",\n        wrapable: \"\",\n        \"left-icon\": \"info-o\",\n        class: \"my-5\"\n      }, {\n        default: _withCtx(() => [_hoisted_1]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), isUnSupportBrowser.value ? (_openBlock(), _createBlock(_unref(NoticeBar), {\n        key: 1,\n        color: \"#fff\",\n        background: \"#363636\",\n        wrapable: \"\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_hoisted_2]),\n        _: 1\n      })) : (_openBlock(), _createElementBlock(_Fragment, {\n        key: 2\n      }, [requiresBrowserExtension.value ? (_openBlock(), _createBlock(_unref(NoticeBar), {\n        key: 0,\n        color: \"#fff\",\n        background: \"#363636\",\n        wrapable: \"\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_hoisted_3]),\n        _: 1\n      })) : _createCommentVNode(\"\", true)], 64)), requiresLogin.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_unref(Button), {\n        onClick: login\n      }, {\n        default: _withCtx(() => [_hoisted_5]),\n        _: 1\n      })])) : _createCommentVNode(\"\", true)], 64);\n    };\n  }\n\n});","/* unplugin-vue-components disabled */import script from \"./LoginView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./LoginView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=6f23d4e5&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/leowang/Ieyasu/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6f23d4e5\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","_","class","href","target","_hoisted_2","_hoisted_3","_hoisted_4","key","_hoisted_5","__name","setup","__props","isUnSupportBrowser","requiresLogin","requiresBrowserExtension","useOnlyOneExtension","error","router","async","navigator","userAgent","indexOf","value","window","ethereum","provider","accounts","listAccounts","console","log","length","push","login","send","_ctx","_cache","color","background","wrapable","default","onClick","__exports__"],"sourceRoot":""}