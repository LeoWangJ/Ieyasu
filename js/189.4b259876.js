"use strict";(self["webpackChunkleyasu"]=self["webpackChunkleyasu"]||[]).push([[189],{48363:function(e,a,t){t.r(a),t.d(a,{default:function(){return X}});var l=t(2346),s=(t(12114),t(17296)),n=(t(67560),t(19545)),o=(t(42332),t(52054)),i=(t(59841),t(43548)),c=(t(9937),t(39420)),u=(t(12097),t(73396)),r=t(44870),d=t(87139),m=t(91748),p=t(43533),y=t(1329),k=t(39758),v=t(38345),g=t(96221),h=t(22483),w=t(1934),f=t(4268),b=t(29733);const D={key:0},S={key:1},_={key:0},A=(0,u._)("h2",null,[(0,u.Uk)("Create your own ERC721-like Collection based on "),(0,u._)("a",{class:"text-theme",href:"https://docs.lukso.tech/standards/nft-2.0/LSP8-Identifiable-Digital-Asset",target:"_blank"},"LSP8")],-1),C=(0,u._)("div",null,"NFT Collection Icon",-1),T=(0,u.Uk)("DEPLOY NFT Collection"),U={key:1},N=(0,u.Uk)(" Please switch your network to LUKSO "),P=(0,u.Uk)("to create this token. "),I={key:2},L=(0,u.Uk)("Deploying"),H=(0,u.Uk)("Deployed"),E=(0,u.Uk)("Transaction"),O=(0,u.Uk)("ðŸŽ‰ Success"),V=(0,u._)("div",null,[(0,u._)("p",null,"Deploying Smart Contracts... "),(0,u._)("strong",null,"Please confirm all transactions in your browser extension, and wait until they are added to the Blockchain.")],-1),W={key:0},x=["href"],z=(0,u._)("br",null,null,-1),F=(0,u.Uk)(" Transaction hash: "),M=["href"],Y=(0,u._)("br",null,null,-1),q={key:1},R=(0,u._)("br",null,null,-1),$=(0,u.Uk)(" Transaction hash: "),G=["href"],K={key:2},B=(0,u._)("br",null,null,-1),J={key:0},Z={key:3,class:"text-[red]"};var j=(0,u.aZ)({__name:"CreateNFTToken",setup(e){const a=(0,h.tv)(),t=(0,r.iH)(!1),j=(0,r.iH)(!0),Q=(0,r.iH)(!1),X=(0,r.iH)(!1),ee=(0,r.iH)(""),ae=(0,r.iH)(0),te=(0,r.iH)([]),le=(0,r.iH)(!1),se=(0,r.qj)({name:"",symbol:"",description:"",icon:[]});(0,u.bv)((async()=>{await ne()}));const ne=async()=>{j.value=await(0,g.B)()},oe=async()=>{X.value=!0;const{account:e,chainId:a,ethereumProvider:t}=await(0,w.k)(),l=new p.TH(t,{chainId:a});try{await l.LSP8IdentifiableDigitalAsset.deploy({name:se.name,symbol:se.symbol,controllerAddress:e,creators:[e],digitalAssetMetadata:{description:se.description,icon:se.icon[0]?.file,links:[],images:[],assets:[]}},{LSP8IdentifiableDigitalAsset:{version:void 0},ipfsGateway:v.TO,onDeployEvents:{next:e=>{console.log("deploymentEvent:",e),ae.value=1,te.value.push(e)},error:e=>{console.log("error",e),X.value=!1,ee.value=e.message},complete:async e=>{console.log("Deployment Complete"),console.log(e.LSP8IdentifiableDigitalAsset),await ie(e.LSP8IdentifiableDigitalAsset.address)}}})}catch(s){X.value=!1,ee.value=s.message}},ie=async e=>{const{account:a,provider:l,isEOAccount:s,signer:n}=await(0,w.k)(),o=new y.ZP(k,a,l,{ipfsGateway:v.c2});let i;try{i=await o.getData("LSP12IssuedAssets[]")}catch(u){i=JSON.parse(localStorage.getItem("issuedAssets"))}i.value.push(e),console.log("LSP12IssuedAssets:",i),s&&localStorage.setItem("issuedAssets",JSON.stringify(i));const c=o.encodeData([{keyName:"LSP12IssuedAssets[]",value:i.value},{keyName:"LSP12IssuedAssetsMap:<address>",dynamicKeyParts:e,value:[v.sb.LSP8IdentifiableDigitalAsset,i.length-1]}]);console.log("encodedErc725Data:",c);try{const e=new f.CH(a,m.Mt,n);console.log("profileContract:",e);const t=await e["setData(bytes32[],bytes[])"](c.keys,c.values,{gasLimit:3e6});console.log("receipt:",t),ae.value=2,te.value.push({receipt:t,type:"TRANSACTION",functionName:"setData"})}catch(u){return console.log(u),void(ee.value=u.message)}s&&(t.value=!0),ae.value=3,X.value=!1,Q.value=!0,b.F.success("success!")};return(e,m)=>{const p=c.l,y=i.g,k=o.Q,h=n.z,w=s.h,f=l.R;return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(p,{title:"Create NFT Collection","left-arrow":"",onClickLeft:m[0]||(m[0]=e=>(0,r.SU)(a).push({name:"home"}))}),t.value?((0,u.wg)(),(0,u.iD)("div",D,"The NFT Collection has been deployed and configured correctly, but because of MetaMask, the asset can only be stored in the browser's local storage.")):(0,u.kq)("",!0),X.value||te.value.length?((0,u.wg)(),(0,u.iD)("div",I,[(0,u.Wm)(f,{active:ae.value,"active-icon":"success","active-color":"#38f"},{default:(0,u.w5)((()=>[(0,u.Wm)(w,null,{default:(0,u.w5)((()=>[L])),_:1}),(0,u.Wm)(w,null,{default:(0,u.w5)((()=>[H])),_:1}),(0,u.Wm)(w,null,{default:(0,u.w5)((()=>[E])),_:1}),(0,u.Wm)(w,null,{default:(0,u.w5)((()=>[O])),_:1})])),_:1},8,["active"]),V,((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(te.value,((e,a)=>((0,u.wg)(),(0,u.iD)("div",{key:a},["PROXY_DEPLOYMENT"===e.type&&"COMPLETE"===e.status?((0,u.wg)(),(0,u.iD)("span",W,[(0,u.Uk)(" Contract deployed: "+(0,d.zw)(e.contractName)+" ("+(0,d.zw)(e.type)+"): ",1),(0,u._)("a",{class:"text-theme",href:`${(0,r.SU)(v.Yk)}/address/${e.contractAddress}`,target:"_blank"},(0,d.zw)(e.contractAddress),9,x),z,F,(0,u._)("a",{class:"text-theme",href:`${(0,r.SU)(v.Yk)}/tx/${e.receipt.transactionHash}`,target:"_blank"},(0,d.zw)(e.receipt.transactionHash),9,M)])):(0,u.kq)("",!0),Y,"TRANSACTION"===e.type&&"COMPLETE"===e.status?((0,u.wg)(),(0,u.iD)("span",q,[(0,u.Uk)(" Function called: "+(0,d.zw)(e.functionName)+"()",1),R,$,(0,u._)("a",{class:"text-theme",href:`${(0,r.SU)(v.Yk)}/tx/${e.receipt.transactionHash}`,target:"_blank"},(0,d.zw)(e.receipt.transactionHash),9,G)])):(0,u.kq)("",!0),"TRANSACTION"===e.type&&"PENDING"===e.status?((0,u.wg)(),(0,u.iD)("span",K,[(0,u.Uk)(" Function is calling: "+(0,d.zw)(e?.functionName)+"()... WAIT IT!",1),B])):(0,u.kq)("",!0)])))),128)),Q.value?((0,u.wg)(),(0,u.iD)("div",J,"ðŸŽ‰ Success !!")):(0,u.kq)("",!0)])):((0,u.wg)(),(0,u.iD)("div",S,[j.value?((0,u.wg)(),(0,u.iD)("div",_,[A,(0,u.Wm)(y,{modelValue:se.name,"onUpdate:modelValue":m[1]||(m[1]=e=>se.name=e),placeholder:"Name"},null,8,["modelValue"]),(0,u.Wm)(y,{modelValue:se.symbol,"onUpdate:modelValue":m[2]||(m[2]=e=>se.symbol=e),placeholder:"Token Symbol"},null,8,["modelValue"]),(0,u.Wm)(y,{modelValue:se.description,"onUpdate:modelValue":m[3]||(m[3]=e=>se.description=e),placeholder:"Description"},null,8,["modelValue"]),C,(0,u.Wm)(k,{modelValue:se.icon,"onUpdate:modelValue":m[4]||(m[4]=e=>se.icon=e),multiple:"","max-count":2},null,8,["modelValue"]),(0,u.Wm)(h,{type:"primary",onClick:oe,disabled:le.value},{default:(0,u.w5)((()=>[T])),_:1},8,["disabled"])])):((0,u.wg)(),(0,u.iD)("p",U,[N,(0,u._)("span",{class:"cursor-pointer text-theme",onClick:m[5]||(m[5]=(...e)=>(0,r.SU)(g.E)&&(0,r.SU)(g.E)(...e))},"L16 "),P]))])),ee.value?((0,u.wg)(),(0,u.iD)("p",Z,(0,d.zw)(ee.value),1)):(0,u.kq)("",!0)],64)}}});const Q=j;var X=Q}}]);
//# sourceMappingURL=189.4b259876.js.map