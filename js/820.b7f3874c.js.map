{"version":3,"file":"js/820.b7f3874c.js","mappings":"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","sources":["webpack://leyasu/./node_modules/vant/es/notice-bar/NoticeBar.mjs","webpack://leyasu/./node_modules/vant/es/notice-bar/index.mjs","webpack://leyasu/./src/views/LoginView.vue","webpack://leyasu/./src/views/LoginView.vue?0cdf"],"sourcesContent":["import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, reactive, defineComponent } from \"vue\";\nimport { isDef, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { raf, useRect, doubleRaf, useEventListener, onMountedOrActivated } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { onPopupReopen } from \"../composables/on-popup-reopen.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nconst [name, bem] = createNamespace(\"notice-bar\");\nconst noticeBarProps = {\n  text: String,\n  mode: String,\n  color: String,\n  delay: makeNumericProp(1),\n  speed: makeNumericProp(60),\n  leftIcon: String,\n  wrapable: Boolean,\n  background: String,\n  scrollable: {\n    type: Boolean,\n    default: null\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: noticeBarProps,\n  emits: [\"close\", \"replay\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    let wrapWidth = 0;\n    let contentWidth = 0;\n    let startTimer;\n    const wrapRef = ref();\n    const contentRef = ref();\n    const state = reactive({\n      show: true,\n      offset: 0,\n      duration: 0\n    });\n    const renderLeftIcon = () => {\n      if (slots[\"left-icon\"]) {\n        return slots[\"left-icon\"]();\n      }\n      if (props.leftIcon) {\n        return _createVNode(Icon, {\n          \"class\": bem(\"left-icon\"),\n          \"name\": props.leftIcon\n        }, null);\n      }\n    };\n    const getRightIconName = () => {\n      if (props.mode === \"closeable\") {\n        return \"cross\";\n      }\n      if (props.mode === \"link\") {\n        return \"arrow\";\n      }\n    };\n    const onClickRightIcon = (event) => {\n      if (props.mode === \"closeable\") {\n        state.show = false;\n        emit(\"close\", event);\n      }\n    };\n    const renderRightIcon = () => {\n      if (slots[\"right-icon\"]) {\n        return slots[\"right-icon\"]();\n      }\n      const name2 = getRightIconName();\n      if (name2) {\n        return _createVNode(Icon, {\n          \"name\": name2,\n          \"class\": bem(\"right-icon\"),\n          \"onClick\": onClickRightIcon\n        }, null);\n      }\n    };\n    const onTransitionEnd = () => {\n      state.offset = wrapWidth;\n      state.duration = 0;\n      raf(() => {\n        doubleRaf(() => {\n          state.offset = -contentWidth;\n          state.duration = (contentWidth + wrapWidth) / +props.speed;\n          emit(\"replay\");\n        });\n      });\n    };\n    const renderMarquee = () => {\n      const ellipsis = props.scrollable === false && !props.wrapable;\n      const style = {\n        transform: state.offset ? `translateX(${state.offset}px)` : \"\",\n        transitionDuration: `${state.duration}s`\n      };\n      return _createVNode(\"div\", {\n        \"ref\": wrapRef,\n        \"role\": \"marquee\",\n        \"class\": bem(\"wrap\")\n      }, [_createVNode(\"div\", {\n        \"ref\": contentRef,\n        \"style\": style,\n        \"class\": [bem(\"content\"), {\n          \"van-ellipsis\": ellipsis\n        }],\n        \"onTransitionend\": onTransitionEnd\n      }, [slots.default ? slots.default() : props.text])]);\n    };\n    const reset = () => {\n      const {\n        delay,\n        speed,\n        scrollable\n      } = props;\n      const ms = isDef(delay) ? +delay * 1e3 : 0;\n      wrapWidth = 0;\n      contentWidth = 0;\n      state.offset = 0;\n      state.duration = 0;\n      clearTimeout(startTimer);\n      startTimer = setTimeout(() => {\n        if (!wrapRef.value || !contentRef.value || scrollable === false) {\n          return;\n        }\n        const wrapRefWidth = useRect(wrapRef).width;\n        const contentRefWidth = useRect(contentRef).width;\n        if (scrollable || contentRefWidth > wrapRefWidth) {\n          doubleRaf(() => {\n            wrapWidth = wrapRefWidth;\n            contentWidth = contentRefWidth;\n            state.offset = -contentWidth;\n            state.duration = contentWidth / +speed;\n          });\n        }\n      }, ms);\n    };\n    onPopupReopen(reset);\n    onMountedOrActivated(reset);\n    useEventListener(\"pageshow\", reset);\n    useExpose({\n      reset\n    });\n    watch(() => [props.text, props.scrollable], reset);\n    return () => {\n      const {\n        color,\n        wrapable,\n        background\n      } = props;\n      return _withDirectives(_createVNode(\"div\", {\n        \"role\": \"alert\",\n        \"class\": bem({\n          wrapable\n        }),\n        \"style\": {\n          color,\n          background\n        }\n      }, [renderLeftIcon(), renderMarquee(), renderRightIcon()]), [[_vShow, state.show]]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _NoticeBar from \"./NoticeBar.mjs\";\nconst NoticeBar = withInstall(_NoticeBar);\nvar stdin_default = NoticeBar;\nexport {\n  NoticeBar,\n  stdin_default as default\n};\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementBlock as _createElementBlock, Fragment as _Fragment } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\" If you have MetaMask and Universal Profile Browser Extension installed, please disable MetaMask! See these guides for \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://support.google.com/chrome_webstore/answer/2664769?hl=en\",\n  target: \"_blank\"\n}, \"Chrome\"), /*#__PURE__*/_createTextVNode(\" and \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://support.mozilla.org/en-US/kb/disable-or-remove-add-ons#w_disabling-and-removing-extensions\",\n  target: \"_blank\"\n}, \"Firefox\"), /*#__PURE__*/_createTextVNode(\". \")], -1);\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\" The dApp only provides running in \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://www.google.com/chrome/\",\n  target: \"_blank\"\n}, \"Chrome \"), /*#__PURE__*/_createTextVNode(\" or \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://www.mozilla.org/firefox/new/\",\n  target: \"_blank\"\n}, \"Firefox\"), /*#__PURE__*/_createTextVNode(\", Please switch one. \")], -1);\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\" Please install the \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-theme\",\n  href: \"https://docs.lukso.tech/guides/browser-extension/install-browser-extension/\",\n  target: \"_blank\"\n}, \"Universal Profile Browser Extension\"), /*#__PURE__*/_createTextVNode(\" to use this dApp. \")], -1);\n\nconst _hoisted_4 = {\n  key: 1,\n  class: \"flex justify-center mt-5\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Log in to Universal Profile Browser Extension\");\n\nimport { ethers } from 'ethers';\nimport { Button, NoticeBar } from 'vant';\nimport { onMounted, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LoginView',\n\n  setup(__props) {\n    const isUnSupportBrowser = ref(true);\n    const requiresLogin = ref(false);\n    const requiresBrowserExtension = ref(false);\n    const useOnlyOneExtension = ref(true);\n    const error = ref('');\n    const router = useRouter();\n    onMounted(async () => {\n      if (navigator.userAgent.indexOf('Firefox') !== -1 || navigator.userAgent.indexOf('Chrome') !== -1) {\n        isUnSupportBrowser.value = false;\n      }\n\n      if (window.ethereum) {\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const accounts = await provider.listAccounts();\n        console.log('accounts:', accounts); // If no account was found\n\n        if (!accounts.length) {\n          requiresLogin.value = true; // OTHERWISE user is logged in, go to the dashboard\n        } else {\n          router.push('/');\n        } // No ethereum extension connected\n        // We ask the user to install the browser extension\n\n      } else {\n        requiresBrowserExtension.value = true;\n        useOnlyOneExtension.value = false;\n      }\n    });\n\n    const login = async () => {\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const accounts = await provider.send('eth_requestAccounts', []);\n      if (accounts.length) router.push('/');else error.value = 'No account was selected!';\n    };\n\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(_Fragment, null, [useOnlyOneExtension.value ? (_openBlock(), _createBlock(_unref(NoticeBar), {\n        key: 0,\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        wrapable: \"\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_hoisted_1]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), isUnSupportBrowser.value ? (_openBlock(), _createBlock(_unref(NoticeBar), {\n        key: 1,\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        wrapable: \"\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_hoisted_2]),\n        _: 1\n      })) : (_openBlock(), _createElementBlock(_Fragment, {\n        key: 2\n      }, [requiresBrowserExtension.value ? (_openBlock(), _createBlock(_unref(NoticeBar), {\n        key: 0,\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        wrapable: \"\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_hoisted_3]),\n        _: 1\n      })) : requiresLogin.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_unref(Button), {\n        type: \"primary\",\n        onClick: login\n      }, {\n        default: _withCtx(() => [_hoisted_5]),\n        _: 1\n      })])) : _createCommentVNode(\"\", true)], 64))], 64);\n    };\n  }\n\n});","/* unplugin-vue-components disabled */import script from \"./LoginView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./LoginView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["name","bem","createNamespace","noticeBarProps","text","String","mode","color","delay","makeNumericProp","speed","leftIcon","wrapable","Boolean","background","scrollable","type","default","stdin_default","defineComponent","props","emits","setup","emit","slots","startTimer","wrapWidth","contentWidth","wrapRef","ref","contentRef","state","reactive","show","offset","duration","renderLeftIcon","_createVNode","Icon","getRightIconName","onClickRightIcon","event","renderRightIcon","name2","onTransitionEnd","raf","doubleRaf","renderMarquee","ellipsis","style","transform","transitionDuration","reset","ms","isDef","clearTimeout","setTimeout","value","wrapRefWidth","useRect","width","contentRefWidth","onPopupReopen","onMountedOrActivated","useEventListener","useExpose","watch","_withDirectives","_vShow","NoticeBar","withInstall","_NoticeBar","_hoisted_1","_","class","href","target","_hoisted_2","_hoisted_3","_hoisted_4","key","_hoisted_5","__name","__props","isUnSupportBrowser","requiresLogin","requiresBrowserExtension","useOnlyOneExtension","error","router","async","navigator","userAgent","indexOf","window","ethereum","provider","accounts","listAccounts","console","log","length","push","login","send","_ctx","_cache","onClick","__exports__"],"sourceRoot":""}